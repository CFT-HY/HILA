<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HILA: vectorized_lattice_struct&lt; vector_size &gt; Struct Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">HILA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structvectorized__lattice__struct.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structvectorized__lattice__struct-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">vectorized_lattice_struct&lt; vector_size &gt; Struct Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="lattice__vector_8h_source.html">lattice_vector.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for vectorized_lattice_struct&lt; vector_size &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="structvectorized__lattice__struct__coll__graph.png" border="0" usemap="#avectorized__lattice__struct_3_01vector__size_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="avectorized__lattice__struct_3_01vector__size_01_4_coll__map" id="avectorized__lattice__struct_3_01vector__size_01_4_coll__map">
<area shape="rect" title=" " alt="" coords="88,301,259,341"/>
<area shape="rect" href="classCoordinateVector__t.html" title=" " alt="" coords="5,169,152,209"/>
<area shape="poly" title=" " alt="" coords="94,221,108,248,126,276,150,299,146,303,122,279,103,251,89,223"/>
<area shape="rect" href="classMatrix.html" title="Generic Matrix class fwd definition." alt="" coords="9,95,167,120"/>
<area shape="poly" title=" " alt="" coords="88,134,84,170,78,169,82,133"/>
<area shape="rect" href="classMatrix__t.html" title=" " alt="" coords="95,5,254,45"/>
<area shape="poly" title=" " alt="" coords="146,57,102,96,99,92,142,53"/>
<area shape="rect" href="classMatrix.html" title="Generic Matrix class fwd definition." alt="" coords="193,95,338,120"/>
<area shape="poly" title=" " alt="" coords="208,53,254,92,250,96,205,57"/>
<area shape="rect" href="classCoordinateVector__t.html" title="CoordinateVector type." alt="" coords="176,177,360,202"/>
<area shape="poly" title=" " alt="" coords="261,216,247,247,226,279,202,303,198,299,222,276,242,244,257,213"/>
<area shape="poly" title=" " alt="" coords="269,133,270,177,265,177,264,134"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8354876dff92105a92ed88f91f0e6898"><td class="memItemLeft" align="right" valign="top"><a id="a8354876dff92105a92ed88f91f0e6898" name="a8354876dff92105a92ed88f91f0e6898"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_on_first_subnode</b> (<a class="el" href="classCoordinateVector__t.html">CoordinateVector</a> v)</td></tr>
<tr class="memdesc:a8354876dff92105a92ed88f91f0e6898"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if this is the first subnode. <br /></td></tr>
<tr class="separator:a8354876dff92105a92ed88f91f0e6898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaf7c2bc0dcd4261bbcf346096ce2d7f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvectorized__lattice__struct.html#aeaf7c2bc0dcd4261bbcf346096ce2d7f">vectorized_lattice_struct</a> ()</td></tr>
<tr class="separator:aeaf7c2bc0dcd4261bbcf346096ce2d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba62fe534ad3b0be5f398150a95c9863"><td class="memItemLeft" align="right" valign="top"><a id="aba62fe534ad3b0be5f398150a95c9863" name="aba62fe534ad3b0be5f398150a95c9863"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>get_boundary_permutations</b> ()</td></tr>
<tr class="memdesc:aba62fe534ad3b0be5f398150a95c9863"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the boundary permutations to different directions. <br /></td></tr>
<tr class="separator:aba62fe534ad3b0be5f398150a95c9863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92d89e93ec7c42162391c0bb2405493f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvectorized__lattice__struct.html#a92d89e93ec7c42162391c0bb2405493f">get_neighbours_and_local_halo</a> ()</td></tr>
<tr class="separator:a92d89e93ec7c42162391c0bb2405493f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a202483d6151af706bbda60820923e3c8"><td class="memItemLeft" align="right" valign="top"><a id="a202483d6151af706bbda60820923e3c8" name="a202483d6151af706bbda60820923e3c8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>get_receive_lists</b> ()</td></tr>
<tr class="memdesc:a202483d6151af706bbda60820923e3c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get neighbour receive indices for MPI. <br /></td></tr>
<tr class="separator:a202483d6151af706bbda60820923e3c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b0d430f59d143a24e056f8bde0f0be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvectorized__lattice__struct.html#a32b0d430f59d143a24e056f8bde0f0be">set_coordinates</a> ()</td></tr>
<tr class="memdesc:a32b0d430f59d143a24e056f8bde0f0be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the structs for coordinates.  <br /></td></tr>
<tr class="separator:a32b0d430f59d143a24e056f8bde0f0be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a610f492b8f959202af2810407e99ea9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvectorized__lattice__struct.html#a610f492b8f959202af2810407e99ea9e">build_wait_arrays</a> ()</td></tr>
<tr class="separator:a610f492b8f959202af2810407e99ea9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7afc092d72c640f49eb40a36670d1c45"><td class="memItemLeft" align="right" valign="top"><a id="a7afc092d72c640f49eb40a36670d1c45" name="a7afc092d72c640f49eb40a36670d1c45"></a>
<a class="el" href="structlattice__struct_1_1nn__comminfo__struct.html">lattice_struct::nn_comminfo_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><b>get_comminfo</b> (int d)</td></tr>
<tr class="memdesc:a7afc092d72c640f49eb40a36670d1c45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the communication info. <br /></td></tr>
<tr class="separator:a7afc092d72c640f49eb40a36670d1c45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab79d707acb70741391859a8200a87faa"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvectorized__lattice__struct.html#ab79d707acb70741391859a8200a87faa">vector_neighbour</a> (Direction d, int idx) const</td></tr>
<tr class="separator:ab79d707acb70741391859a8200a87faa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aded4c0557e81b7be0c425c0bfe04ef60"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvectorized__lattice__struct.html#aded4c0557e81b7be0c425c0bfe04ef60">site_neighbour</a> (Direction d, int idx) const</td></tr>
<tr class="separator:aded4c0557e81b7be0c425c0bfe04ef60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6405d3814173bf5e4e7e539e85676012"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvectorized__lattice__struct.html#a6405d3814173bf5e4e7e539e85676012">field_alloc_size</a> () const</td></tr>
<tr class="separator:a6405d3814173bf5e4e7e539e85676012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4505a76fb0e670ea3c9c6a008a595ba"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvectorized__lattice__struct.html#aa4505a76fb0e670ea3c9c6a008a595ba">coordinates</a> (int idx) const</td></tr>
<tr class="separator:aa4505a76fb0e670ea3c9c6a008a595ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afecc7a39b36b494ae6a631ddf8670b0f"><td class="memItemLeft" align="right" valign="top"><a id="afecc7a39b36b494ae6a631ddf8670b0f" name="afecc7a39b36b494ae6a631ddf8670b0f"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>loop_begin</b> (::Parity P) const</td></tr>
<tr class="memdesc:afecc7a39b36b494ae6a631ddf8670b0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">First index in a lattice loop. <br /></td></tr>
<tr class="separator:afecc7a39b36b494ae6a631ddf8670b0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a086da8fc4c957f8f22f78ed3efcd33ff"><td class="memItemLeft" align="right" valign="top"><a id="a086da8fc4c957f8f22f78ed3efcd33ff" name="a086da8fc4c957f8f22f78ed3efcd33ff"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>loop_end</b> (::Parity P) const</td></tr>
<tr class="memdesc:a086da8fc4c957f8f22f78ed3efcd33ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last index in a lattice loop. <br /></td></tr>
<tr class="separator:a086da8fc4c957f8f22f78ed3efcd33ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a9086188799ddfcc2505fb5dcd084edef"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvectorized__lattice__struct.html#a9086188799ddfcc2505fb5dcd084edef">v_sites</a></td></tr>
<tr class="memdesc:a9086188799ddfcc2505fb5dcd084edef"><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to the original lattice  <br /></td></tr>
<tr class="separator:a9086188799ddfcc2505fb5dcd084edef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bb2abaa01a2068d12c0aac4cf62fab3"><td class="memItemLeft" align="right" valign="top"><a id="a7bb2abaa01a2068d12c0aac4cf62fab3" name="a7bb2abaa01a2068d12c0aac4cf62fab3"></a>
<a class="el" href="classCoordinateVector__t.html">CoordinateVector</a>&#160;</td><td class="memItemRight" valign="bottom"><b>subdivisions</b></td></tr>
<tr class="memdesc:a7bb2abaa01a2068d12c0aac4cf62fab3"><td class="mdescLeft">&#160;</td><td class="mdescRight">subnode divisions to different directions <br /></td></tr>
<tr class="separator:a7bb2abaa01a2068d12c0aac4cf62fab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a633d80812771150eb6948e14a4a5dd30"><td class="memItemLeft" align="right" valign="top"><a id="a633d80812771150eb6948e14a4a5dd30" name="a633d80812771150eb6948e14a4a5dd30"></a>
<a class="el" href="classCoordinateVector__t.html">CoordinateVector</a>&#160;</td><td class="memItemRight" valign="bottom"><b>subnode_origin</b></td></tr>
<tr class="memdesc:a633d80812771150eb6948e14a4a5dd30"><td class="mdescLeft">&#160;</td><td class="mdescRight">origin of the 1st subnode = origin of mynode <br /></td></tr>
<tr class="separator:a633d80812771150eb6948e14a4a5dd30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab512af44273090f10c2c08898903dbef"><td class="memItemLeft" align="right" valign="top"><a id="ab512af44273090f10c2c08898903dbef" name="ab512af44273090f10c2c08898903dbef"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_boundary_permutation</b> [NDIM]</td></tr>
<tr class="memdesc:ab512af44273090f10c2c08898903dbef"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if boundary needs a permutation. <br /></td></tr>
<tr class="separator:ab512af44273090f10c2c08898903dbef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48d6288404029a468e596a7bd23f6d34"><td class="memItemLeft" align="right" valign="top"><a id="a48d6288404029a468e596a7bd23f6d34" name="a48d6288404029a468e596a7bd23f6d34"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>only_local_boundary_copy</b> [NDIRS]</td></tr>
<tr class="memdesc:a48d6288404029a468e596a7bd23f6d34"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if the boundary elements are local. <br /></td></tr>
<tr class="separator:a48d6288404029a468e596a7bd23f6d34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcbdfa3cbdf553c3d5a830c7b9f5f1a4"><td class="memItemLeft" align="right" valign="top"><a id="adcbdfa3cbdf553c3d5a830c7b9f5f1a4" name="adcbdfa3cbdf553c3d5a830c7b9f5f1a4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>boundary_permutation</b> [NDIRS][vector_size]</td></tr>
<tr class="memdesc:adcbdfa3cbdf553c3d5a830c7b9f5f1a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">permutation vectors <br /></td></tr>
<tr class="separator:adcbdfa3cbdf553c3d5a830c7b9f5f1a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad33321c8d4d0458d0e469c69f7df178b"><td class="memItemLeft" align="right" valign="top"><a id="ad33321c8d4d0458d0e469c69f7df178b" name="ad33321c8d4d0458d0e469c69f7df178b"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>halo_offset</b> [NDIRS]</td></tr>
<tr class="memdesc:ad33321c8d4d0458d0e469c69f7df178b"><td class="mdescLeft">&#160;</td><td class="mdescRight">offsets to boundary halos <br /></td></tr>
<tr class="separator:ad33321c8d4d0458d0e469c69f7df178b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf89b500b241195da8f67e1fe6034e89"><td class="memItemLeft" align="right" valign="top"><a id="abf89b500b241195da8f67e1fe6034e89" name="abf89b500b241195da8f67e1fe6034e89"></a>
unsigned *RESTRICT&#160;</td><td class="memItemRight" valign="bottom"><b>halo_index</b> [NDIRS]</td></tr>
<tr class="memdesc:abf89b500b241195da8f67e1fe6034e89"><td class="mdescLeft">&#160;</td><td class="mdescRight">storage for indexes to halo sites <br /></td></tr>
<tr class="separator:abf89b500b241195da8f67e1fe6034e89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d1b17f4ad9170a6da8390b0ae755291"><td class="memItemLeft" align="right" valign="top">unsigned *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvectorized__lattice__struct.html#a4d1b17f4ad9170a6da8390b0ae755291">recv_list</a> [NDIRS]</td></tr>
<tr class="separator:a4d1b17f4ad9170a6da8390b0ae755291"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abec9ed846f1a4cda605e93dc78228455"><td class="memItemLeft" align="right" valign="top"><a id="abec9ed846f1a4cda605e93dc78228455" name="abec9ed846f1a4cda605e93dc78228455"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>recv_list_size</b> [NDIRS]</td></tr>
<tr class="memdesc:abec9ed846f1a4cda605e93dc78228455"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of the receive list in each direction. <br /></td></tr>
<tr class="separator:abec9ed846f1a4cda605e93dc78228455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1926af4934c7ac4ae932748ce8bce262"><td class="memItemLeft" align="right" valign="top"><a id="a1926af4934c7ac4ae932748ce8bce262" name="a1926af4934c7ac4ae932748ce8bce262"></a>
unsigned *RESTRICT&#160;</td><td class="memItemRight" valign="bottom"><b>neighbours</b> [NDIRS]</td></tr>
<tr class="memdesc:a1926af4934c7ac4ae932748ce8bce262"><td class="mdescLeft">&#160;</td><td class="mdescRight">Storage for neighbour indexes on each site. <br /></td></tr>
<tr class="separator:a1926af4934c7ac4ae932748ce8bce262"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fbb3922aaf5e1d707094ab38a4da0ed"><td class="memItemLeft" align="right" valign="top"><a id="a9fbb3922aaf5e1d707094ab38a4da0ed" name="a9fbb3922aaf5e1d707094ab38a4da0ed"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>alloc_size</b></td></tr>
<tr class="memdesc:a9fbb3922aaf5e1d707094ab38a4da0ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">The storage size of a field. <br /></td></tr>
<tr class="separator:a9fbb3922aaf5e1d707094ab38a4da0ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb343d36f255b1d2ad6fde10fceac2a0"><td class="memItemLeft" align="right" valign="top"><a id="aeb343d36f255b1d2ad6fde10fceac2a0" name="aeb343d36f255b1d2ad6fde10fceac2a0"></a>
unsigned char *RESTRICT&#160;</td><td class="memItemRight" valign="bottom"><b>vec_wait_arr_</b></td></tr>
<tr class="memdesc:aeb343d36f255b1d2ad6fde10fceac2a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">A wait array for the vectorized field. <br /></td></tr>
<tr class="separator:aeb343d36f255b1d2ad6fde10fceac2a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;int vector_size&gt;<br />
struct vectorized_lattice_struct&lt; vector_size &gt;</div><p>Vectorized lattice struct stores information needed for vectorized access to lattice fields.</p><ul>
<li>loop_begin, loop_end</li>
<li>neighbour arrays</li>
<li>twist permutations when needed</li>
<li>allocation size, including new halo sites (replaces field_alloc_size) these are used by fields which are laid out with vector structure </li>
</ul>

<p class="definition">Definition at line <a class="el" href="lattice__vector_8h_source.html#l00019">19</a> of file <a class="el" href="lattice__vector_8h_source.html">lattice_vector.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aeaf7c2bc0dcd4261bbcf346096ce2d7f" name="aeaf7c2bc0dcd4261bbcf346096ce2d7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaf7c2bc0dcd4261bbcf346096ce2d7f">&#9670;&#160;</a></span>vectorized_lattice_struct()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int vector_size&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvectorized__lattice__struct.html">vectorized_lattice_struct</a>&lt; vector_size &gt;<a class="el" href="structvectorized__lattice__struct.html">::vectorized_lattice_struct</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set up the vectorized lattice:</p><ul>
<li>Split the lattice and record size and splits</li>
<li>Map indeces into local coordinate_list</li>
<li>Set up neighbour vector references mapping between the sites: here i is the original lattice site index vector_index = i / vector_size; index_in_vector = i % vector_size; Note that this maps site indices of 64 bit elements (double)and 32 bit (float) so that vector_index(32) = vector_index(64)/2 and index_in_vector(32) = index_in_vector(64) + (vector_index(64)%2)*vector_size(64) This removes the last direction where number of subnodes is divisible </li>
</ul>
<p>Initialize</p>
<p>sites on vector</p>

<p class="definition">Definition at line <a class="el" href="lattice__vector_8h_source.html#l00090">90</a> of file <a class="el" href="lattice__vector_8h_source.html">lattice_vector.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a610f492b8f959202af2810407e99ea9e" name="a610f492b8f959202af2810407e99ea9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a610f492b8f959202af2810407e99ea9e">&#9670;&#160;</a></span>build_wait_arrays()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int vector_size&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="structvectorized__lattice__struct.html">vectorized_lattice_struct</a>&lt; vector_size &gt;::build_wait_arrays </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Finally, initialize wait arrays it is a bit mask array containing a bit at location dir if the neighbour at that dir is out of the local volume </p>

<p class="definition">Definition at line <a class="el" href="lattice__vector_8h_source.html#l00343">343</a> of file <a class="el" href="lattice__vector_8h_source.html">lattice_vector.h</a>.</p>

</div>
</div>
<a id="aa4505a76fb0e670ea3c9c6a008a595ba" name="aa4505a76fb0e670ea3c9c6a008a595ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4505a76fb0e670ea3c9c6a008a595ba">&#9670;&#160;</a></span>coordinates()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int vector_size&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="structvectorized__lattice__struct.html">vectorized_lattice_struct</a>&lt; vector_size &gt;::coordinates </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the coordinates of each vector nested as coordinate[Direction][vector_index] </p>

<p class="definition">Definition at line <a class="el" href="lattice__vector_8h_source.html#l00389">389</a> of file <a class="el" href="lattice__vector_8h_source.html">lattice_vector.h</a>.</p>

</div>
</div>
<a id="a6405d3814173bf5e4e7e539e85676012" name="a6405d3814173bf5e4e7e539e85676012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6405d3814173bf5e4e7e539e85676012">&#9670;&#160;</a></span>field_alloc_size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int vector_size&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structvectorized__lattice__struct.html">vectorized_lattice_struct</a>&lt; vector_size &gt;::field_alloc_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the number of sites that need to be allocated returns sites, not vectors! </p>

<p class="definition">Definition at line <a class="el" href="lattice__vector_8h_source.html#l00382">382</a> of file <a class="el" href="lattice__vector_8h_source.html">lattice_vector.h</a>.</p>

</div>
</div>
<a id="a92d89e93ec7c42162391c0bb2405493f" name="a92d89e93ec7c42162391c0bb2405493f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92d89e93ec7c42162391c0bb2405493f">&#9670;&#160;</a></span>get_neighbours_and_local_halo()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int vector_size&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="structvectorized__lattice__struct.html">vectorized_lattice_struct</a>&lt; vector_size &gt;::get_neighbours_and_local_halo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the neighbour array, and also local halo mapping reserve extra storage for permutation halo sites there are 2*(area) v-sites to each direction with permutation,</p><ul>
<li>mpi buffers too if needed. (separately allocated) to directions without permutation there is also</li>
<li>2*(area) v-sites, filled in directly by MPI or copying from local node if no mpi comm. The copying is done to ease implementing different boundary conditions These come automatically when we tally up the neigbours below </li>
</ul>
<p>set also the index array, if needed halo_index[d] points to the subnode modded neighbour site to dir d, if there is boundary twist (meaning there are on-node subnodes to this dir) we'll use the standard neighb array to do this.</p>
<p>Finally, how big the field allocation should be - IN SITES, not vectors</p>

<p class="definition">Definition at line <a class="el" href="lattice__vector_8h_source.html#l00180">180</a> of file <a class="el" href="lattice__vector_8h_source.html">lattice_vector.h</a>.</p>

</div>
</div>
<a id="a32b0d430f59d143a24e056f8bde0f0be" name="a32b0d430f59d143a24e056f8bde0f0be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32b0d430f59d143a24e056f8bde0f0be">&#9670;&#160;</a></span>set_coordinates()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int vector_size&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="structvectorized__lattice__struct.html">vectorized_lattice_struct</a>&lt; vector_size &gt;::set_coordinates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Build the structs for coordinates. </p>
<p>first vector_size elements should give the coordinates of vector offsets</p>

<p class="definition">Definition at line <a class="el" href="lattice__vector_8h_source.html#l00322">322</a> of file <a class="el" href="lattice__vector_8h_source.html">lattice_vector.h</a>.</p>

</div>
</div>
<a id="aded4c0557e81b7be0c425c0bfe04ef60" name="aded4c0557e81b7be0c425c0bfe04ef60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aded4c0557e81b7be0c425c0bfe04ef60">&#9670;&#160;</a></span>site_neighbour()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int vector_size&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structvectorized__lattice__struct.html">vectorized_lattice_struct</a>&lt; vector_size &gt;::site_neighbour </td>
          <td>(</td>
          <td class="paramtype">Direction&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>this gives the neighbour when the lattice is traversed site-by-site. Now idx is the "true" site index, not vector index </p>

<p class="definition">Definition at line <a class="el" href="lattice__vector_8h_source.html#l00375">375</a> of file <a class="el" href="lattice__vector_8h_source.html">lattice_vector.h</a>.</p>

</div>
</div>
<a id="ab79d707acb70741391859a8200a87faa" name="ab79d707acb70741391859a8200a87faa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab79d707acb70741391859a8200a87faa">&#9670;&#160;</a></span>vector_neighbour()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int vector_size&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="structvectorized__lattice__struct.html">vectorized_lattice_struct</a>&lt; vector_size &gt;::vector_neighbour </td>
          <td>(</td>
          <td class="paramtype">Direction&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get neighbours for this, with 2 different methods: First vector neighbour. Now idx is the vector index </p>

<p class="definition">Definition at line <a class="el" href="lattice__vector_8h_source.html#l00369">369</a> of file <a class="el" href="lattice__vector_8h_source.html">lattice_vector.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a4d1b17f4ad9170a6da8390b0ae755291" name="a4d1b17f4ad9170a6da8390b0ae755291"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d1b17f4ad9170a6da8390b0ae755291">&#9670;&#160;</a></span>recv_list</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int vector_size&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned* <a class="el" href="structvectorized__lattice__struct.html">vectorized_lattice_struct</a>&lt; vector_size &gt;::recv_list[NDIRS]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>move data from receive buffer &ndash; sending is fine as it is takes the role of nn_comms </p>

<p class="definition">Definition at line <a class="el" href="lattice__vector_8h_source.html#l00046">46</a> of file <a class="el" href="lattice__vector_8h_source.html">lattice_vector.h</a>.</p>

</div>
</div>
<a id="a9086188799ddfcc2505fb5dcd084edef" name="a9086188799ddfcc2505fb5dcd084edef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9086188799ddfcc2505fb5dcd084edef">&#9670;&#160;</a></span>v_sites</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int vector_size&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="structvectorized__lattice__struct.html">vectorized_lattice_struct</a>&lt; vector_size &gt;::v_sites</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>pointer to the original lattice </p>
<p>vector sites on this node </p>

<p class="definition">Definition at line <a class="el" href="lattice__vector_8h_source.html#l00027">27</a> of file <a class="el" href="lattice__vector_8h_source.html">lattice_vector.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="lattice__vector_8h_source.html">lattice_vector.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structvectorized__lattice__struct.html">vectorized_lattice_struct</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
