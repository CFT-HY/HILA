\doxysection{type\+\_\+tools.\+h}
\hypertarget{type__tools_8h_source}{}\label{type__tools_8h_source}\index{type\_tools.h@{type\_tools.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00001}00001\ \textcolor{preprocessor}{\#ifndef\ TEMPLATE\_TOOLS\_H}}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00002}00002\ \textcolor{preprocessor}{\#define\ TEMPLATE\_TOOLS\_H}}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00005}00005\ \textcolor{preprocessor}{\#include\ <assert.h>}}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00006}00006\ \textcolor{preprocessor}{\#include\ <sstream>}}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00008}00008\ \textcolor{preprocessor}{\#include\ "{}plumbing/defs.h"{}}}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00011}00011\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacehila}{hila}}\ \{}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00017}00017\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class},\ \textcolor{keyword}{class}\ =\ \textcolor{keywordtype}{void}>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00018}\mbox{\hyperlink{structhila_1_1is__field__class__type}{00018}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structhila_1_1is__field__class__type}{is\_field\_class\_type}}\ :\ std::false\_type\ \{\};}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00020}00020\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00021}00021\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structhila_1_1is__field__class__type}{is\_field\_class\_type}}<T,\ \mbox{\hyperlink{namespacestd}{std}}::void\_t<typename\ T::base\_type>>\ :\ std::true\_type\ \{\};}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00027}00027\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class},\ \textcolor{keyword}{class}\ =\ \textcolor{keywordtype}{void}>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00028}\mbox{\hyperlink{structhila_1_1is__field__type}{00028}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structhila_1_1is__field__type}{is\_field\_type}}\ :\ std::false\_type\ \{\};}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00030}00030\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00031}00031\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structhila_1_1is__field__type}{is\_field\_type}}<T,\ typename\ \mbox{\hyperlink{namespacestd}{std}}::enable\_if\_t<is\_field\_class\_type<T>::value\ ||}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00032}00032\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is\_arithmetic<T>::value>>\ :\ std::true\_type\ \{}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00033}00033\ \};}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00044}00044\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Enable\ =\ \textcolor{keywordtype}{void}>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00045}\mbox{\hyperlink{structhila_1_1base__type__struct}{00045}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structhila_1_1base__type__struct}{base\_type\_struct}}\ \{}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00046}00046\ \ \ \ \ \textcolor{keyword}{using\ }type\ =\ T;}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00047}00047\ \};}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00048}00048\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00049}00049\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00050}00050\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structhila_1_1base__type__struct}{base\_type\_struct}}<T,\ typename\ \mbox{\hyperlink{namespacestd}{std}}::enable\_if\_t<is\_field\_class\_type<T>::value>>\ \{}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00051}00051\ \ \ \ \ \textcolor{comment}{//\ In\ this\ case\ the\ base\ type\ is\ just\ T}}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00052}00052\ \ \ \ \ \textcolor{keyword}{using\ }type\ =\ \textcolor{keyword}{typename}\ T::base\_type;}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00053}00053\ \};}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00055}00055\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00056}00056\ \textcolor{keyword}{using\ }scalar\_type\ =\ \textcolor{keyword}{typename}\ base\_type\_struct<T>::type;}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00064}00064\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00065}00065\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ Enable\ =\ \textcolor{keywordtype}{void}>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00066}\mbox{\hyperlink{structhila_1_1inner__type__struct}{00066}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structhila_1_1inner__type__struct}{inner\_type\_struct}}\ \{}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00067}00067\ \ \ \ \ \textcolor{keyword}{using\ }type\ =\ T;}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00068}00068\ \};}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00069}00069\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00070}00070\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00071}00071\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structhila_1_1inner__type__struct}{inner\_type\_struct}}<T,\ typename\ \mbox{\hyperlink{namespacestd}{std}}::enable\_if\_t<hila::is\_field\_class\_type<T>::value>>\ \{}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00072}00072\ \ \ \ \ \textcolor{keyword}{using\ }type\ =\ \textcolor{keyword}{typename}\ T::argument\_type;}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00073}00073\ \};}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00074}00074\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00075}00075\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00076}00076\ \textcolor{keyword}{using\ }inner\_type\ =\ \textcolor{keyword}{typename}\ inner\_type\_struct<T>::type;}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00085}00085\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00086}00086\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ A,\ \textcolor{keyword}{typename}\ B,\ \textcolor{keyword}{typename}\ Enable\ =\ \textcolor{keywordtype}{void}>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00087}\mbox{\hyperlink{structhila_1_1contains__type}{00087}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structhila_1_1contains__type}{contains\_type}}\ :\ std::integral\_constant<bool,\ std::is\_same<A,\ B>::value>\ \{\};}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00088}00088\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00089}00089\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ A,\ \textcolor{keyword}{typename}\ B>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00090}00090\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structhila_1_1contains__type}{contains\_type}}<A,\ B,\ typename\ \mbox{\hyperlink{namespacestd}{std}}::enable\_if\_t<hila::is\_field\_class\_type<A>::value\ \&\&\ !std::is\_same<A,B>::value>>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00091}00091\ \ \ \ \ :\ std::integral\_constant<bool,\ hila::contains\_type<hila::inner\_type<A>,\ B>::value>\ \{\};}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00092}00092\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00093}00093\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ A>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00094}00094\ \textcolor{keyword}{struct\ }contains\_type<A,\ A>\ :\ std::integral\_constant<bool,\ true>\ \{\};}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00095}00095\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00096}00096\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00102}00102\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ A,\ \textcolor{keyword}{typename}\ B>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00103}\mbox{\hyperlink{namespacehila_adf272b5e8b834ba16564fd7bfff5adef}{00103}}\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacehila_adf272b5e8b834ba16564fd7bfff5adef}{type\_plus}}\ =\ \textcolor{keyword}{decltype}(std::declval<A>()\ +\ std::declval<B>());}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00104}00104\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ A,\ \textcolor{keyword}{typename}\ B>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00105}00105\ \textcolor{keyword}{using\ }type\_minus\ =\ \textcolor{keyword}{decltype}(std::declval<A>()\ -\/\ std::declval<B>());}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00106}00106\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ A,\ \textcolor{keyword}{typename}\ B>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00107}00107\ \textcolor{keyword}{using\ }type\_mul\ =\ \textcolor{keyword}{decltype}(std::declval<A>()\ *\ std::declval<B>());}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00108}00108\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ A,\ \textcolor{keyword}{typename}\ B>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00109}00109\ \textcolor{keyword}{using\ }type\_div\ =\ \textcolor{keyword}{decltype}(std::declval<A>()\ /\ std::declval<B>());}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00110}00110\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00111}00111\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00116}00116\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00117}00117\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00118}\mbox{\hyperlink{namespacehila_a74749529ceb2982ea9d68b53214f809c}{00118}}\ \textcolor{keyword}{inline}\ hila::scalar\_type<T>\ \mbox{\hyperlink{namespacehila_a74749529ceb2982ea9d68b53214f809c}{get\_number\_in\_var}}(\textcolor{keyword}{const}\ T\ \&var,\ \textcolor{keywordtype}{int}\ i)\ \{}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00119}00119\ \ \ \ \ \textcolor{keywordflow}{return}\ *(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }hila::scalar\_type<T>\ *\textcolor{keyword}{>}(\&var)\ +\ i);}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00120}00120\ \}}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00121}00121\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00122}00122\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ set\_number\_in\_var(T\ \&var,\ \textcolor{keywordtype}{int}\ i,\ \textcolor{keyword}{const}\ hila::scalar\_type<T>\ val)\ \{}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00123}00123\ \ \ \ \ *(\textcolor{keyword}{reinterpret\_cast<}hila::scalar\_type<T>\ *\textcolor{keyword}{>}(\&var)\ +\ i)\ =\ val;}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00124}00124\ \}}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00125}00125\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00126}00126\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00127}00127\ \}\ \textcolor{comment}{//\ namespace\ hila}}
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00128}00128\ }
\DoxyCodeLine{\Hypertarget{type__tools_8h_source_l00129}00129\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
