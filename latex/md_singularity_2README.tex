\chapter{Singularity container for HILA pre-\/processor}
\hypertarget{md_singularity_2README}{}\label{md_singularity_2README}\index{Singularity container for HILA pre-\/processor@{Singularity container for HILA pre-\/processor}}
\label{md_singularity_2README_autotoc_md23}%
\Hypertarget{md_singularity_2README_autotoc_md23}%
 Definition file for HILA pre-\/processor \href{https://sylabs.io/singularity/}{\texttt{ singularity}} container. This container is meant to be a portable solution for compiling the first half of HILA code which is the parsing for specific architectures.

Singularity is a tailor made containerizing software often supported by HPC platforms such as CSC supercomputers.

One can download the singularity container hilapp.\+sif directly from this github repositories release page or build it from scratch. If downloaded skip directly to {\bfseries{Using singulartiy container}} section\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{wget\ https://github.com/CFT-\/HY/HILA/releases/download/0.0.1/hilapp.sif}

\end{DoxyCode}
\hypertarget{md_singularity_2README_autotoc_md24}{}\doxysection{\texorpdfstring{Building container from scratch}{Building container from scratch}}\label{md_singularity_2README_autotoc_md24}
\hypertarget{md_singularity_2README_autotoc_md25}{}\doxysubsection{\texorpdfstring{1. Installing singularity}{1. Installing singularity}}\label{md_singularity_2README_autotoc_md25}
Install singularity either from source of via any given package manager which is supported. Documentation can be found on the \href{https://github.com/sylabs/singularity}{\texttt{ Git\+Hub page}}

You can simply download latest .deb or .rpm from github \href{https://github.com/sylabs/singularity/releases}{\texttt{ release page}} and install directly with package manager

Ubuntu\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{dpkg\ -\/i\ singularity-\/ce\_\$(SINGULARITY\_VERSION)-\/\$(UBUNTU\_VERSION)\_amd64.deb}

\end{DoxyCode}
\hypertarget{md_singularity_2README_autotoc_md26}{}\doxysubsection{\texorpdfstring{2. Building singularity container}{2. Building singularity container}}\label{md_singularity_2README_autotoc_md26}
Note\+: sudo privileges are necessary for building singularity containers

For building the container we have two options. One can either build the container using the release version of hilapp from github or one can build using the local hilapp source. Especially in the situation that one is developing the hila preprocessor and would like to test it on a HPC platform then building the singularity container from a local source is the preferred option. There are two different singularity definition files for both cases.

Building using release version\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{sudo\ singularity\ build\ hilapp.sif\ hilapp\_git.def}

\end{DoxyCode}


Building using local source 
\begin{DoxyCode}{0}
\DoxyCodeLine{sudo\ singularity\ build\ hilapp.sif\ hilapp\_local.def}

\end{DoxyCode}
\hypertarget{md_singularity_2README_autotoc_md27}{}\doxysection{\texorpdfstring{Using singulartiy container}{Using singulartiy container}}\label{md_singularity_2README_autotoc_md27}
The hilapp.\+sif file will act as a singularity container and equivalently as the hilapp binary and can be used as such when pre processing HILA code. Thus you can move it to your HILA projects bin folder


\begin{DoxyCode}{0}
\DoxyCodeLine{mkdir\ HILA/hilapp/bin}
\DoxyCodeLine{mv\ hilapp.sif\ HILA/hilapp/bin/hilapp}

\end{DoxyCode}


Now one can simply move the singularity container to any give supercomputer.

One needs to cre

Note that on supercomputers the default paths aren\textquotesingle{}t the same as on default linux operating systems. Thus one will need to mount their HILA source folder to singularity using the APPTAINER\+\_\+\+BIND environment variable. Simple navigate to the base of your HILA source directory and run \begin{DoxyVerb}export APPTAINER_BIND=$(pwd)
\end{DoxyVerb}
 